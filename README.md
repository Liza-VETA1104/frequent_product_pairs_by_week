# Retail Product Association Analysis

**–¶–µ–ª—å**: –ù–∞–π—Ç–∏ –¥–≤–∞ —Ç–æ–≤–∞—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ **—á–∞—â–µ –≤—Å–µ–≥–æ –ø–æ–∫—É–ø–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ –≤ –æ–¥–Ω–æ–º —á–µ–∫–µ ‚Äî –ø–æ –∫–∞–∂–¥–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–π –Ω–µ–¥–µ–ª–µ**.

–≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ **market basket analysis** (–∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–æ—á–Ω–æ–π –∫–æ—Ä–∑–∏–Ω—ã), –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç:
- –≤—ã—è–≤–ª—è—Ç—å —Å–∫—Ä—ã—Ç—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π,
- —Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏,
- –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∞–∫—Ü–∏–∏ –∏ –∫–æ–º–ø–æ–Ω–æ–≤–∫—É —Ç–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω–µ.

---

## üìå –ü–æ–¥—Ö–æ–¥—ã –∫ —Ä–µ—à–µ–Ω–∏—é

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä—ë–º–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ **—Ç—Ä–∏ —É—Ä–æ–≤–Ω—è —Ä–µ—à–µ–Ω–∏—è**:

### 1. **–ë–∞–∑–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ SQL** (`product_pairs_by_week.sql`)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `SELF-JOIN` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–∞—Ä —Ç–æ–≤–∞—Ä–æ–≤ –≤ —á–µ–∫–µ.
- –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –≥–æ–¥—É –∏ –Ω–µ–¥–µ–ª–µ.
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`ROW_NUMBER()`) –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–æ–ø-1 –ø–∞—Ä—ã –Ω–∞ –Ω–µ–¥–µ–ª—é.
- ‚úÖ –ü—Ä–æ—Å—Ç–æ, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ, –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

### 2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ SQL-—Ä–µ—à–µ–Ω–∏–µ** (`product_pairs_by_week_filtered.sql`)
- –î–æ–±–∞–≤–ª—è–µ—Ç **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º —Ç–æ–≤–∞—Ä–∞–º** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ø-1000 –∑–∞ –Ω–µ–¥–µ–ª—é).
- –û—Ç—Å–µ–∏–≤–∞–µ—Ç —Ä–µ–¥–∫–∏–µ –ø–∞—Ä—ã (`–º–∏–Ω–∏–º—É–º 2 –≤—Ö–æ–∂–¥–µ–Ω–∏—è`).
- –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ —à—É–º.
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –ø—Ä–∏ —É–º–µ—Ä–µ–Ω–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ —á–µ–∫–æ–≤ (–¥–æ ~15 —Ç–æ–≤–∞—Ä–æ–≤).

### 3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–∞ Python** (`apriori_analysis.ipynb`)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º **Apriori** –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `mlxtend`.
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **—á–µ–∫–∞–º–∏ –ø–æ 30‚Äì50+ —Ç–æ–≤–∞—Ä–æ–≤** (—Ç–∏–ø–∏—á–Ω–æ –¥–ª—è –≥–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–æ–≤).
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å **–º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É** (`min_support`) –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø–∞—Ä—ã, –Ω–æ –∏ —Ç—Ä–æ–π–∫–∏.
- –í—ã–≤–æ–¥–∏—Ç —á–∏—Ç–∞–µ–º—ã–π —Å–ø–∏—Å–æ–∫ —á–∞—Å—Ç—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π.

#### –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (min_support = 30%):
–º–∞—Å–ª–æ, —Ö–ª–µ–± –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ 50.0% —á–µ–∫–æ–≤
–ø–∏–≤–æ, —á–∏–ø—Å—ã –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ 50.0% —á–µ–∫–æ–≤
—Ö–ª–µ–±, —á–∏–ø—Å—ã –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ 40.0% —á–µ–∫–æ–≤
–º–æ–ª–æ–∫–æ, —Ö–ª–µ–± –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ 40.0% —á–µ–∫–æ–≤
–∫–æ—Ñ–µ, –º–æ–ª–æ–∫–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ 30.0% —á–µ–∫–æ–≤


> üí° **–ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**  
> - **SQL** ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞, –∏–Ω—Ç–µ—Ä–≤—å—é –∏–ª–∏ –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ —É–º–µ—â–∞—é—Ç—Å—è –≤ —Ä–∞–∑—É–º–Ω—ã–µ —Ä–∞–º–∫–∏.  
> - **Python + Apriori** ‚Äî –∫–æ–≥–¥–∞ —á–µ–∫–∏ –±–æ–ª—å—à–∏–µ, —Ç–æ–≤–∞—Ä–æ–≤ –º–Ω–æ–≥–æ, –∏ –≤–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **SQL**: BigQuery / PostgreSQL (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –±–µ–∑ `QUALIFY`)
- **Python**: `pandas`, `mlxtend`
- **–ú–µ—Ç–æ–¥—ã**: –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, one-hot encoding, –∞–Ω–∞–ª–∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (support)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ product_pairs_by_week.sql # –ë–∞–∑–æ–≤–æ–µ SQL-—Ä–µ—à–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ product_pairs_by_week_filtered.sql # SQL —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
‚îî‚îÄ‚îÄ apriori_analysis.ipynb # Python-–∞–Ω–∞–ª–∏–∑ —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Apriori

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–í –≥–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–∞—Ö **—Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç 30‚Äì50+ –ø–æ–∑–∏—Ü–∏–π**.  
–ü—Ä—è–º–æ–π `self-join` –≤ SQL —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –Ω–æ –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å **—Å–æ—Ç–Ω–∏ –ø–∞—Ä –∏–∑ –æ–¥–Ω–æ–≥–æ —á–µ–∫–∞**, —á—Ç–æ:
- —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö,
- –∑–∞–º–µ–¥–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã,
- –¥–æ–±–∞–≤–ª—è–µ—Ç —à—É–º (—Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏).

–ü–æ—ç—Ç–æ–º—É –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –æ–±—ã—á–Ω–æ:
- —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º —Ç–æ–≤–∞—Ä–∞–º,
- –∏—Å–ø–æ–ª—å–∑—É—é—Ç `min_support`,
- –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –∫ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º –≤—Ä–æ–¥–µ **Apriori** –∏–ª–∏ **FP-Growth**.
